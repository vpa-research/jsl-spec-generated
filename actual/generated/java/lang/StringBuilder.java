// Generated by the LibSL translator.  DO NOT EDIT!
// sources:
//  - java/lang/StringBuilder.lsl:18
//  - java/lang/StringBuilder.main.lsl:22
//
package generated.java.lang;

import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;
import java.lang.CharSequence;
import java.lang.Character;
import java.lang.Comparable;
import java.lang.IllegalArgumentException;
import java.lang.IndexOutOfBoundsException;
import java.lang.NegativeArraySizeException;
import java.lang.NullPointerException;
import java.lang.Object;
import java.lang.OutOfMemoryError;
import java.lang.String;
import java.lang.StringIndexOutOfBoundsException;
import java.lang.SuppressWarnings;
import java.lang.Void;
import java.util.stream.IntStream;
import org.jacodb.approximation.annotation.Approximate;
import org.usvm.api.Engine;
import runtime.LibSLRuntime;
import stub.java.util.stream.IntStreamLSL;

/**
 * StringBuilderAutomaton for StringBuilder ~> java.lang.StringBuilder
 */
@SuppressWarnings({"all", "unchecked"})
@Approximate(java.lang.StringBuilder.class)
public final class StringBuilder implements LibSLRuntime.Automaton, Serializable, Comparable<StringBuilder>, CharSequence {
    private static final long serialVersionUID = 4383685877147921099L;

    private static final int STRINGBUILDER_LENGTH_MAX = 50;

    static {
        Engine.assume(true);
    }

    public char[] value;

    public int count;

    @LibSLRuntime.AutomatonConstructor
    public StringBuilder(Void __$lsl_token, final byte p0, final char[] p1, final int p2) {
        this.value = p1;
        this.count = p2;
    }

    @LibSLRuntime.AutomatonConstructor
    public StringBuilder(final Void __$lsl_token) {
        this(__$lsl_token, __$lsl_States.Initialized, null, 0);
    }

    /**
     * [CONSTRUCTOR] StringBuilderAutomaton::<init>(StringBuilder) -> void
     * Source: java/lang/StringBuilder.main.lsl:240
     */
    public StringBuilder() {
        this((Void) null);
        /* body */ {
            this.value = new char[STRINGBUILDER_LENGTH_MAX];
        }
    }

    /**
     * [CONSTRUCTOR] StringBuilderAutomaton::<init>(StringBuilder, CharSequence) -> void
     * Source: java/lang/StringBuilder.main.lsl:246
     */
    public StringBuilder(CharSequence seq) {
        this((Void) null);
        /* body */ {
            if (seq == null) {
                throw new NullPointerException();
            }
            this.value = new char[STRINGBUILDER_LENGTH_MAX];
            _appendCharSequence(seq, 0, seq.length());
        }
    }

    /**
     * [CONSTRUCTOR] StringBuilderAutomaton::<init>(StringBuilder, String) -> void
     * Source: java/lang/StringBuilder.main.lsl:257
     */
    public StringBuilder(String str) {
        this((Void) null);
        /* body */ {
            if (str == null) {
                throw new NullPointerException();
            }
            this.value = new char[STRINGBUILDER_LENGTH_MAX];
            _appendCharSequence(str, 0, str.length());
        }
    }

    /**
     * [CONSTRUCTOR] StringBuilderAutomaton::<init>(StringBuilder, int) -> void
     * Source: java/lang/StringBuilder.main.lsl:268
     */
    public StringBuilder(int cap) {
        this((Void) null);
        /* body */ {
            if (cap < 0) {
                throw new NegativeArraySizeException();
            }
            if (cap > 1073741823) {
                throw new OutOfMemoryError("Requested array size exceeds VM limit");
            }
            this.value = new char[STRINGBUILDER_LENGTH_MAX];
        }
    }

    /**
     * [SUBROUTINE] StringBuilderAutomaton::_appendCharSequence(CharSequence, int, int) -> void
     * Source: java/lang/StringBuilder.main.lsl:119
     */
    private void _appendCharSequence(CharSequence seq, int seqStart, int seqEnd) {
        /* body */ {
            if ((seqStart < 0) || (seqStart > seqEnd) || (seqEnd > seq.length())) {
                throw new IndexOutOfBoundsException();
            }
            final int avaiable = this.value.length - this.count;
            int len = seqEnd - seqStart;
            if (len > avaiable) {
                len = avaiable;
            }
            if (len > 0) {
                String str = null;
                if ((seq instanceof String)) {
                    str = ((String) seq);
                } else {
                    str = LibSLRuntime.toString(seq);
                }
                final char[] chars = str.toCharArray();
                LibSLRuntime.ArrayActions.copy(chars, seqStart, this.value, this.count, len);
                this.count += len;
            }
        }
    }

    /**
     * [SUBROUTINE] StringBuilderAutomaton::_asString(int, int) -> String
     * Source: java/lang/StringBuilder.main.lsl:148
     */
    private String _asString(int posStart, int posEnd) {
        String result = null;
        /* body */ {
            final int len = posEnd - posStart;
            if (len == 0) {
                result = "";
            } else {
                final char[] symbols = new char[len];
                LibSLRuntime.ArrayActions.copy(this.value, posStart, symbols, 0, len);
                result = LibSLRuntime.toString(this.value);
            }
        }
        return result;
    }

    /**
     * [SUBROUTINE] StringBuilderAutomaton::_asString() -> String
     * Source: java/lang/StringBuilder.main.lsl:164
     */
    public String _asString() {
        String result = null;
        /* body */ {
            final int len = this.count;
            if (len == 0) {
                result = "";
            } else {
                if (len == this.value.length) {
                    result = LibSLRuntime.toString(this.value);
                } else {
                    final char[] symbols = new char[len];
                    LibSLRuntime.ArrayActions.copy(this.value, 0, symbols, 0, len);
                    result = LibSLRuntime.toString(this.value);
                }
            }
        }
        return result;
    }

    /**
     * [SUBROUTINE] StringBuilderAutomaton::_insertCharSequence(int, CharSequence, int, int) -> void
     * Source: java/lang/StringBuilder.main.lsl:184
     */
    private void _insertCharSequence(int offset, CharSequence seq, int seqStart, int seqEnd) {
        /* body */ {
            if ((seqStart < 0) || (seqStart > seqEnd) || (seqEnd > seq.length()) || (offset > this.count)) {
                throw new IndexOutOfBoundsException();
            }
            final int avaiable = this.value.length - offset;
            int len = seqEnd - seqStart;
            if (len > avaiable) {
                len = avaiable;
            }
            if (len > 0) {
                final int avaiableForLeftovers = avaiable - len;
                if (avaiableForLeftovers > 0) {
                    int rightLeftovers = this.count - offset;
                    if (rightLeftovers > avaiableForLeftovers) {
                        rightLeftovers = avaiableForLeftovers;
                    }
                    if (rightLeftovers > 0) {
                        final int rightIndex = offset + 1;
                        LibSLRuntime.ArrayActions.copy(this.value, rightIndex, this.value, rightIndex + len, rightLeftovers);
                    }
                }
                String str = null;
                if ((seq instanceof String)) {
                    str = ((String) seq);
                } else {
                    str = LibSLRuntime.toString(seq);
                }
                final char[] chars = str.toCharArray();
                LibSLRuntime.ArrayActions.copy(chars, seqStart, this.value, offset, len);
                this.count += len;
            }
        }
    }

    /**
     * [SUBROUTINE] StringBuilderAutomaton::_deleteChars(int, int) -> void
     * Source: java/lang/StringBuilder.main.lsl:225
     */
    private void _deleteChars(int start, int end) {
        /* body */ {
            if ((start < 0) || (start > end) || (end > this.count)) {
                throw new IndexOutOfBoundsException();
            }
            final int leftovers = this.count - end;
            if (leftovers > 0) {
                LibSLRuntime.ArrayActions.copy(this.value, end, this.value, start, leftovers);
            }
            this.count -= end - start;
        }
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, CharSequence) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:283
     */
    public StringBuilder append(CharSequence seq) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (seq == null) {
                _appendCharSequence("null", 0, 4);
            } else {
                _appendCharSequence(seq, 0, seq.length());
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, CharSequence, int, int) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:296
     */
    public StringBuilder append(CharSequence seq, int start, int end) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (seq == null) {
                _appendCharSequence("null", start, end);
            } else {
                _appendCharSequence(seq, start, end);
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, Object) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:309
     */
    public StringBuilder append(Object obj) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (obj == null) {
                _appendCharSequence("null", 0, 4);
            } else {
                final String seq = LibSLRuntime.toString(obj);
                _appendCharSequence(seq, 0, seq.length());
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, String) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:327
     */
    public StringBuilder append(String str) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (str == null) {
                _appendCharSequence("null", 0, 4);
            } else {
                _appendCharSequence(str, 0, str.length());
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, StringBuffer) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:340
     */
    public StringBuilder append(StringBuffer sb) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (sb == null) {
                _appendCharSequence("null", 0, 4);
            } else {
                final String seq = LibSLRuntime.toString(sb);
                _appendCharSequence(seq, 0, seq.length());
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, boolean) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:358
     */
    public StringBuilder append(boolean x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (x) {
                _appendCharSequence("true", 0, 4);
            } else {
                _appendCharSequence("false", 0, 5);
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, char) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:371
     */
    public StringBuilder append(char x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (this.count < this.value.length) {
                value[this.count] = x;
                this.count += 1;
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, array<char>) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:385
     */
    public StringBuilder append(char[] str) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String seq = LibSLRuntime.toString(str);
            _appendCharSequence(seq, 0, seq.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, array<char>, int, int) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:396
     */
    public StringBuilder append(char[] str, int offset, int len) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String seq = LibSLRuntime.toString(str);
            _appendCharSequence(seq, offset, len);
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, double) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:407
     */
    public StringBuilder append(double x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String seq = LibSLRuntime.toString(x);
            _appendCharSequence(seq, 0, seq.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, float) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:418
     */
    public StringBuilder append(float x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String seq = LibSLRuntime.toString(x);
            _appendCharSequence(seq, 0, seq.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, int) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:429
     */
    public StringBuilder append(int x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String seq = LibSLRuntime.toString(x);
            _appendCharSequence(seq, 0, seq.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::append(StringBuilder, long) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:440
     */
    public StringBuilder append(long x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String seq = LibSLRuntime.toString(x);
            _appendCharSequence(seq, 0, seq.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::appendCodePoint(StringBuilder, int) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:451
     */
    public StringBuilder appendCodePoint(int codePoint) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final int cnt = this.count;
            final int len = this.value.length;
            if (Character.isBmpCodePoint(codePoint)) {
                if ((cnt + 1) <= len) {
                    value[cnt] = ((char) codePoint);
                    this.count = cnt + 1;
                }
            } else {
                if (Character.isValidCodePoint(codePoint)) {
                    if ((cnt + 2) <= len) {
                        value[cnt + 1] = Character.lowSurrogate(codePoint);
                        value[cnt] = Character.highSurrogate(codePoint);
                        this.count = cnt + 2;
                    }
                } else {
                    throw new IllegalArgumentException();
                }
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::capacity(StringBuilder) -> int
     * Source: java/lang/StringBuilder.main.lsl:488
     */
    public int capacity() {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            result = this.value.length;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::charAt(StringBuilder, int) -> char
     * Source: java/lang/StringBuilder.main.lsl:496
     */
    public char charAt(int index) {
        char result = '?';
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if ((index < 0) || (index >= this.count)) {
                throw new StringIndexOutOfBoundsException();
            }
            result = value[index];
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::chars(StringBuilder) -> IntStream
     * Source: java/lang/StringBuilder.main.lsl:508
     */
    public IntStream chars() {
        IntStream result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final int len = this.count;
            final int[] intValues = new int[len];
            int i = 0;
            for (i = 0; i < len; i += 1) {
                intValues[i] = ((int) value[i]);
            }
            ;
            result = (IntStreamLSL) ((Object) new generated.java.util.stream.IntStreamLSL((Void) null, 
                /* state = */ generated.java.util.stream.IntStreamLSL.__$lsl_States.Initialized, 
                /* storage = */ intValues, 
                /* length = */ len, 
                /* closeHandlers = */ Engine.makeSymbolicList(), 
                /* isParallel = */ false, 
                /* linkedOrConsumed = */ false
            ));
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::codePointAt(StringBuilder, int) -> int
     * Source: java/lang/StringBuilder.main.lsl:534
     */
    public int codePointAt(int index) {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if ((index < 0) || (index >= this.count)) {
                throw new StringIndexOutOfBoundsException(index);
            }
            result = Character.codePointAt(this.value, index, this.count);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::codePointBefore(StringBuilder, int) -> int
     * Source: java/lang/StringBuilder.main.lsl:545
     */
    public int codePointBefore(int index) {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final int i = index - 1;
            if ((i < 0) || (i >= this.count)) {
                throw new StringIndexOutOfBoundsException(index);
            }
            result = Character.codePointBefore(this.value, index, 0);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::codePointCount(StringBuilder, int, int) -> int
     * Source: java/lang/StringBuilder.main.lsl:557
     */
    public int codePointCount(int beginIndex, int endIndex) {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if ((beginIndex < 0) || (beginIndex > endIndex) || (endIndex > this.count)) {
                throw new IndexOutOfBoundsException();
            }
            result = Character.codePointCount(this.value, beginIndex, endIndex - beginIndex);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::codePoints(StringBuilder) -> IntStream
     * Source: java/lang/StringBuilder.main.lsl:569
     */
    public IntStream codePoints() {
        IntStream result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final int len = this.count;
            final int[] intValues = new int[len];
            int i = 0;
            for (i = 0; i < len; i += 1) {
                intValues[i] = ((int) value[i]);
            }
            ;
            result = (IntStreamLSL) ((Object) new generated.java.util.stream.IntStreamLSL((Void) null, 
                /* state = */ generated.java.util.stream.IntStreamLSL.__$lsl_States.Initialized, 
                /* storage = */ intValues, 
                /* length = */ len, 
                /* closeHandlers = */ Engine.makeSymbolicList(), 
                /* isParallel = */ false, 
                /* linkedOrConsumed = */ false
            ));
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::compareTo(StringBuilder, StringBuilder) -> int
     * Source: java/lang/StringBuilder.main.lsl:590
     */
    public int compareTo(StringBuilder another) {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (another == this) {
                result = 0;
            } else {
                final String thisString = _asString();
                final String anotherString = ((StringBuilder) ((Object) another))._asString();
                result = thisString.compareTo(anotherString);
            }
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::delete(StringBuilder, int, int) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:608
     */
    public StringBuilder delete(int start, int end) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            _deleteChars(start, end);
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::deleteCharAt(StringBuilder, int) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:618
     */
    public StringBuilder deleteCharAt(int index) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            _deleteChars(index, index + 1);
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::ensureCapacity(StringBuilder, int) -> void
     * Source: java/lang/StringBuilder.main.lsl:628
     */
    public void ensureCapacity(int minimumCapacity) {
        /* body */ {
            Engine.assume(true);
        }
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::getChars(StringBuilder, int, int, array<char>, int) -> void
     * Source: java/lang/StringBuilder.main.lsl:635
     */
    public void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin) {
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if ((srcBegin < 0) || (srcBegin > srcEnd) || (srcEnd > this.count)) {
                throw new StringIndexOutOfBoundsException();
            }
            final int len = srcEnd - srcBegin;
            if (dst == null) {
                throw new NullPointerException();
            }
            if ((dstBegin < 0) || ((dstBegin + len) > dst.length)) {
                throw new IndexOutOfBoundsException();
            }
            if (len > 0) {
                LibSLRuntime.ArrayActions.copy(this.value, srcBegin, dst, dstBegin, len);
            }
        }
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::getValue(StringBuilder) -> array<char>
     * Source: java/lang/StringBuilder.main.lsl:656
     */
    public char[] getValue() {
        char[] result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            result = this.value;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::indexOf(StringBuilder, String) -> int
     * Source: java/lang/StringBuilder.main.lsl:664
     */
    public int indexOf(String str) {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            result = _asString().indexOf(str, 0);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::indexOf(StringBuilder, String, int) -> int
     * Source: java/lang/StringBuilder.main.lsl:673
     */
    public int indexOf(String str, int fromIndex) {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            result = _asString().indexOf(str, fromIndex);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, CharSequence) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:682
     */
    public StringBuilder insert(int dstOffset, CharSequence s) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (s == null) {
                _insertCharSequence(dstOffset, "null", 0, 4);
            } else {
                _insertCharSequence(dstOffset, s, 0, s.length());
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, CharSequence, int, int) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:695
     */
    public StringBuilder insert(int dstOffset, CharSequence s, int start, int end) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (s == null) {
                _insertCharSequence(dstOffset, "null", start, end);
            } else {
                _insertCharSequence(dstOffset, s, start, end);
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, Object) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:708
     */
    public StringBuilder insert(int dstOffset, Object obj) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (obj == null) {
                _insertCharSequence(dstOffset, "null", 0, 4);
            } else {
                final String s = LibSLRuntime.toString(obj);
                _insertCharSequence(dstOffset, s, 0, s.length());
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, String) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:726
     */
    public StringBuilder insert(int dstOffset, String s) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (s == null) {
                _insertCharSequence(dstOffset, "null", 0, 4);
            } else {
                _insertCharSequence(dstOffset, s, 0, s.length());
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, boolean) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:739
     */
    public StringBuilder insert(int dstOffset, boolean x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String s = LibSLRuntime.toString(x);
            _insertCharSequence(dstOffset, s, 0, s.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, char) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:750
     */
    public StringBuilder insert(int dstOffset, char x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String s = LibSLRuntime.toString(x);
            _insertCharSequence(dstOffset, s, 0, 1);
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, array<char>) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:761
     */
    public StringBuilder insert(int dstOffset, char[] x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String s = LibSLRuntime.toString(x);
            _insertCharSequence(dstOffset, s, 0, s.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, array<char>, int, int) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:772
     */
    public StringBuilder insert(int index, char[] str, int offset, int len) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final char[] arr = new char[len];
            LibSLRuntime.ArrayActions.copy(str, offset, arr, 0, len);
            final String s = LibSLRuntime.toString(arr);
            _insertCharSequence(index, s, 0, len);
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, double) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:786
     */
    public StringBuilder insert(int dstOffset, double x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String s = LibSLRuntime.toString(x);
            _insertCharSequence(dstOffset, s, 0, s.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, float) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:797
     */
    public StringBuilder insert(int dstOffset, float x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String s = LibSLRuntime.toString(x);
            _insertCharSequence(dstOffset, s, 0, s.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, int) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:808
     */
    public StringBuilder insert(int dstOffset, int x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String s = LibSLRuntime.toString(x);
            _insertCharSequence(dstOffset, s, 0, s.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::insert(StringBuilder, int, long) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:819
     */
    public StringBuilder insert(int dstOffset, long x) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final String s = LibSLRuntime.toString(x);
            _insertCharSequence(dstOffset, s, 0, s.length());
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::lastIndexOf(StringBuilder, String) -> int
     * Source: java/lang/StringBuilder.main.lsl:830
     */
    public int lastIndexOf(String str) {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            result = _asString().lastIndexOf(str, this.count);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::lastIndexOf(StringBuilder, String, int) -> int
     * Source: java/lang/StringBuilder.main.lsl:839
     */
    public int lastIndexOf(String str, int fromIndex) {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            result = _asString().lastIndexOf(str, fromIndex);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::length(StringBuilder) -> int
     * Source: java/lang/StringBuilder.main.lsl:848
     */
    public int length() {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            result = this.count;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::offsetByCodePoints(StringBuilder, int, int) -> int
     * Source: java/lang/StringBuilder.main.lsl:856
     */
    public int offsetByCodePoints(int index, int codePointOffset) {
        int result = 0;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if ((index < 0) || (index > this.count)) {
                throw new IndexOutOfBoundsException();
            }
            result = Character.offsetByCodePoints(this.value, 0, this.count, index, codePointOffset);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::replace(StringBuilder, int, int, String) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:867
     */
    public StringBuilder replace(int start, int end, String s) {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            _deleteChars(start, end);
            if (s == null) {
                _insertCharSequence(start, "null", 0, 4);
            } else {
                _insertCharSequence(start, s, 0, s.length());
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::reverse(StringBuilder) -> StringBuilder
     * Source: java/lang/StringBuilder.main.lsl:882
     */
    public StringBuilder reverse() {
        StringBuilder result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if (this.count != 0) {
                boolean hasSurrogates = false;
                final int n = this.count - 1;
                int j = 0;
                for (j = (n - 1) >> 1; j > -1; j += -1) {
                    int k = n - j;
                    char cj = value[j];
                    char ck = value[k];
                    value[j] = ck;
                    value[k] = cj;
                    if (Character.isSurrogate(cj) || Character.isSurrogate(ck)) {
                        hasSurrogates = true;
                    }
                }
                ;
                if (hasSurrogates) {
                    int i = 0;
                    for (i = 0; i < n; i += 1) {
                        char c2 = value[i];
                        if (Character.isLowSurrogate(c2)) {
                            char c1 = value[i + 1];
                            if (Character.isHighSurrogate(c1)) {
                                value[i] = c1;
                                i += 1;
                                value[i] = c2;
                            }
                        }
                    }
                    ;
                }
            }
            result = this;
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::setCharAt(StringBuilder, int, char) -> void
     * Source: java/lang/StringBuilder.main.lsl:944
     */
    public void setCharAt(int index, char x) {
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if ((index < 0) || (index >= this.count)) {
                throw new StringIndexOutOfBoundsException();
            }
            value[index] = x;
        }
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::setLength(StringBuilder, int) -> void
     * Source: java/lang/StringBuilder.main.lsl:955
     */
    public void setLength(int newLength) {
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            final int maxLength = this.value.length;
            if (newLength > maxLength) {
                newLength = maxLength;
            }
            if (newLength < 0) {
                throw new StringIndexOutOfBoundsException();
            } else {
                if (newLength < this.count) {
                    this.count = newLength;
                } else {
                    if (newLength > this.count) {
                        LibSLRuntime.ArrayActions.fillRange(this.value, this.count, newLength, ((char) 0));
                        this.count = newLength;
                    }
                }
            }
        }
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::subSequence(StringBuilder, int, int) -> CharSequence
     * Source: java/lang/StringBuilder.main.lsl:980
     */
    public CharSequence subSequence(int start, int end) {
        CharSequence result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if ((start < 0) || (start > end) || (end > this.count)) {
                throw new StringIndexOutOfBoundsException();
            }
            result = _asString(start, end);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::substring(StringBuilder, int) -> String
     * Source: java/lang/StringBuilder.main.lsl:991
     */
    public String substring(int start) {
        String result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if ((start < 0) || (start > this.count)) {
                throw new StringIndexOutOfBoundsException();
            }
            result = _asString(start, this.count);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::substring(StringBuilder, int, int) -> String
     * Source: java/lang/StringBuilder.main.lsl:1002
     */
    public String substring(int start, int end) {
        String result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            if ((start < 0) || (start > end) || (end > this.count)) {
                throw new StringIndexOutOfBoundsException();
            }
            result = _asString(start, end);
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::toString(StringBuilder) -> String
     * Source: java/lang/StringBuilder.main.lsl:1013
     */
    public String toString() {
        String result = null;
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
            result = _asString();
        }
        return result;
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::trimToSize(StringBuilder) -> void
     * Source: java/lang/StringBuilder.main.lsl:1021
     */
    public void trimToSize() {
        /* body */ {
            Engine.assume(this.value != null);
            Engine.assume(this.value.length <= STRINGBUILDER_LENGTH_MAX);
            Engine.assume(this.count <= this.value.length);
            Engine.assume(this.count >= 0);
        }
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::writeObject(StringBuilder, ObjectOutputStream) -> void
     * Source: java/lang/StringBuilder.main.lsl:1034
     */
    private void writeObject(ObjectOutputStream s) throws java.io.IOException {
        /* body */ {
            LibSLRuntime.not_implemented(/* no serialization support yet */);
        }
    }

    /**
     * [FUNCTION] StringBuilderAutomaton::readObject(StringBuilder, ObjectInputStream) -> void
     * Source: java/lang/StringBuilder.main.lsl:1042
     */
    private void readObject(ObjectInputStream s) throws java.io.IOException,
            java.lang.ClassNotFoundException {
        /* body */ {
            LibSLRuntime.not_implemented(/* no serialization support yet */);
        }
    }

    public static final class __$lsl_States {
        public static final byte Initialized = (byte) 0;
    }

    @Approximate(StringBuilder.class)
    public static final class __hook {
        private __hook(Void o1, Void o2) {
            Engine.assume(false);
        }
    }
}
